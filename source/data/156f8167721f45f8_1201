From:
osiitm_2016@googlegroups.com

Date:
5-9-2016

Body:
<html>
<head>
<meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dus-ascii"=
>
<meta content=3D"text/html; charset=3Dutf-8">
</head>
<body>
<div>
<div>Is it always possible to switch out a process like this?</div>
<div><br>
</div>
<div>yes. such process migration does happen in systems. however there are =
considerable overheads involved. so such migration is kept minimum.</div>
<div><br>
</div>
<div>such migration is performed by the os when it finds one cpu loaded con=
siderably more than the others.<br>
<br>
</div>
And is there a limit on how many processes you can actually force to run on=
 a processor?&nbsp;<br>
<div>
<div>
<div></div>
</div>
</div>
</div>
<div><br>
</div>
<div>if you did not use the sched_setaffinity then the processes will be un=
iformly distributed across the processors to ensure that all cpus &nbsp;are=
 uniformly loaded.</div>
<div><br>
</div>
<div>since you are using sched_setaffinity, you are forcing the os to sched=
ule processes in the cpus of your choice. thus all your processes are endin=
g up in the same cpus.</div>
<div><br>
</div>
<div>chester</div>
<div>
<div style=3D"font-size:7px; color:#575757">Sent from Samsung Mobile</div>
</div>
<br>
<br>
<div>-------- Original message --------</div>
<div>From: GIRISH RAGUVIR J cs14b059 </div>
<div>Date:2016/09/04 3:45 PM (GMT&#43;05:30) </div>
<div>To: chester </div>
<div>Cc: osiitm_2016 </div>
<div>Subject: Re: Processes in multi-processor systems </div>
<div><br>
</div>
<div>
<div dir=3D"ltr">
<div>
<div>
<div>
<div>UID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PID&nbsp; PPID&nbsp; C&n=
bsp;&nbsp;&nbsp; SZ&nbsp;&nbsp; RSS PSR STIME TTY&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp; TIME CMD<br>
girish&nbsp;&nbsp; 14588 14404 95&nbsp; 1049&nbsp;&nbsp; 680&nbsp;&nbsp; 0 =
15:36 pts/0&nbsp;&nbsp;&nbsp; 00:00:15 ./a.out<br>
girish&nbsp;&nbsp; 14595 14477&nbsp; 0&nbsp; 5662&nbsp; 2520&nbsp;&nbsp; 1 =
15:36 pts/7&nbsp;&nbsp;&nbsp; 00:00:00 ps -aF<br>
<br>
</div>
As seen above, in my case, ./a.out is running in processor 0.<br>
<br>
</div>
After running ./t, a.out is forced to migrate from processor 0 to processor=
 1.<br>
<br>
UID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PID&nbsp; PPID&nbsp; C&nbsp;&=
nbsp;&nbsp; SZ&nbsp;&nbsp; RSS PSR STIME TTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp; TIME CMD<br>
girish&nbsp;&nbsp; 14588 14404 98&nbsp; 1049&nbsp;&nbsp; 680&nbsp;&nbsp; 1 =
15:36 pts/0&nbsp;&nbsp;&nbsp; 00:00:45 ./a.out<br>
girish&nbsp;&nbsp; 14607 14541 99&nbsp; 1049&nbsp;&nbsp; 644&nbsp;&nbsp; 0 =
15:36 pts/17&nbsp;&nbsp; 00:00:02 ./t<br>
girish&nbsp;&nbsp; 14608 14477&nbsp; 0&nbsp; 5662&nbsp; 2660&nbsp;&nbsp; 3 =
15:36 pts/7&nbsp;&nbsp;&nbsp; 00:00:00 ps -aF<br>
<br>
</div>
<div>I have attached the program I used.<br>
</div>
<div><br>
</div>
But sir, I have some doubts.<br>
<br>
Is it always possible to switch out a process like this?<br>
<br>
</div>
And is there a limit on how many processes you can actually force to run on=
 a processor? I tried running 10 such programs simultaneously forcing them =
all to run on processor 0 and all of them did.None of these programs were f=
orced to switch to the other processors
 even though the other processors were relatively free.<br>
<div>
<div>
<div>
<div><br>
</div>
</div>
</div>
</div>
</div>
<div class=3D"gmail_extra"><br>
<div class=3D"gmail_quote">On Sun, Sep 4, 2016 at 1:02 PM, chester <span di=
r=3D"ltr">
&lt;<a href=3D"mailto:chetrebeiro@gmail.com" target=3D"_blank">chetrebeiro@=
gmail.com</a>&gt;</span> wrote:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex; border-left:1=
px #ccc solid; padding-left:1ex">
<div dir=3D"ltr">You are almost there.
<div><br>
</div>
<div>Can you modify your t.c so that it migrates the first program</div>
<div>ie. this program</div>
<div><br>
</div>
<div>while(1){</div>
<div>}<br>
<br>
to another processor</div>
<div>
<div class=3D"h5">
<div><br>
</div>
<div><br>
On Sunday, September 4, 2016 at 12:42:40 AM UTC&#43;5:30, Gowrisankar Ravic=
handran wrote:
<blockquote class=3D"gmail_quote" style=3D"margin:0; margin-left:0.8ex; bor=
der-left:1px #ccc solid; padding-left:1ex">
<div dir=3D"ltr">
<div><img src=3D"https://www.freeonlinephotoeditor.com/tmp/img-57a9c30e584d=
1/step0001.png?1472929691957"><br>
</div>
<div>Sir, did you mean to invoke the sched_setaffinity() function? I used t=
hat function in the attached file to migrate the process with PID 18792 fro=
m PSR 2 to PSR 0.</div>
<div>Did you mean any other method by the second hint?</div>
<br>
On Wednesday, August 31, 2016 at 3:44:58 PM UTC&#43;5:30, chester wrote:
<blockquote class=3D"gmail_quote" style=3D"margin:0; margin-left:0.8ex; bor=
der-left:1px #ccc solid; padding-left:1ex">
<div dir=3D"ltr">Hi,<br>
<br>
We discussed today how a process can migrate from one processor to another.=
<br>
Here is some experiments you can run to try out process migration.<br>
<br>
* Start with a simple program<br>
<br>
main(){<br>
&nbsp;&nbsp; while(1);<br>
}<br>
<br>
* Compile and execute the program in a terminal. <br>
<br>
* In another terminal, use the command ``ps -aF''<br>
The output will look something like this<br>
<br>
&nbsp;UID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PID&nbsp; PPID&nbsp; C&=
nbsp;&nbsp;&nbsp; SZ&nbsp;&nbsp; RSS PSR STIME TTY&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TIME CMD<br>
chester&nbsp; 12083 11666 99&nbsp; 1048&nbsp;&nbsp; 356&nbsp;&nbsp; 1 15:35=
 pts/17&nbsp;&nbsp; 00:00:01 ./a.out<br>
chester&nbsp; 12084 11912&nbsp; 0&nbsp; 5659&nbsp; 1288&nbsp;&nbsp; 3 15:35=
 pts/26&nbsp;&nbsp; 00:00:00 ps -aF<br>
<br>
The fields under PSR indicates the processor which the program is running i=
n.<br>
In my case, ./a.out is running in processor 1.<br>
<br>
<br>
* Can you now write a program that would force this a.out process to migrat=
e to<br>
another processor such as like this<br>
<br>
chester@optiplex:~/tmp$ ps -aF<br>
UID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PID&nbsp; PPID&nbsp; C&nbsp;&=
nbsp;&nbsp; SZ&nbsp;&nbsp; RSS PSR STIME TTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp; TIME CMD<br>
chester&nbsp; 12083 11666 99&nbsp; 1048&nbsp;&nbsp; 356&nbsp;&nbsp; <b>0</b=
> 15:35 pts/17&nbsp;&nbsp; 00:03:34 ./a.out<br>
chester&nbsp; 12125 12088 99&nbsp; 1047&nbsp;&nbsp; 356&nbsp;&nbsp; 1 15:39=
 pts/24&nbsp;&nbsp; 00:00:01 <b>./t</b><br>
chester&nbsp; 12126 11912&nbsp; 0&nbsp; 5659&nbsp; 1292&nbsp;&nbsp; 3 15:39=
 pts/26&nbsp;&nbsp; 00:00:00 ps -aF<br>
<br>
a.out is forced to migrate from processor 1 to processor 0 by the process .=
/t.<br>
<br>
<br>
* Hints<br>
(1) Use the system call sched_setaffinity (to set an affinity between a pro=
cess and a processor (<a href=3D"http://arbidprobramming.blogspot.in/2012/0=
2/get-your-program-to-execute-on-specific.html" rel=3D"nofollow" target=3D"=
_blank">http://arbidprobramming.blogs<wbr>pot.in/2012/02/get-your-progra<wb=
r>m-to-execute-on-specific.html</a>)<br>
(2) Use the fact that when Linux finds out that one processor is overworked=
 compared to another, it will decide to migrate a process.<br>
<br>
<b><br>
Please share your solution here, if you do find out how to solve this probl=
em.<br>
</b><br>
Chester<br>
<br>
</div>
</blockquote>
</div>
</blockquote>
</div>
</div>
</div>
</div>
<div>
<div class=3D"h5">
<p></p>
-- <br>
You received this message because you are subscribed to the Google Groups &=
quot;osiitm_2016&quot; group.<br>
To unsubscribe from this group and stop receiving emails from it, send an e=
mail to
<a href=3D"mailto:osiitm_2016&#43;unsubscribe@googlegroups.com" target=3D"_=
blank">osiitm_2016&#43;unsubscribe@<wbr>googlegroups.com</a>.<br>
To post to this group, send email to <a href=3D"mailto:osiitm_2016@googlegr=
oups.com" target=3D"_blank">
osiitm_2016@googlegroups.com</a>.<br>
</div>
</div>
To view this discussion on the web visit <a href=3D"https://groups.google.c=
om/d/msgid/osiitm_2016/a833c36c-2a9c-4dfa-8e97-6c20a3c47224%40googlegroups.=
com?utm_medium=3Demail&amp;utm_source=3Dfooter" target=3D"_blank">
https://groups.google.com/d/<wbr>msgid/osiitm_2016/a833c36c-<wbr>2a9c-4dfa-=
8e97-6c20a3c47224%<wbr>40googlegroups.com</a>.
<div class=3D"HOEnZb">
<div class=3D"h5"><br>
For more options, visit <a href=3D"https://groups.google.com/d/optout" targ=
et=3D"_blank">
https://groups.google.com/d/<wbr>optout</a>.<br>
</div>
</div>
</blockquote>
</div>
<br>
</div>
<p></p>
-- <br>
You received this message because you are subscribed to the Google Groups &=
quot;osiitm_2016&quot; group.<br>
To unsubscribe from this group and stop receiving emails from it, send an e=
mail to
<a href=3D"mailto:osiitm_2016&#43;unsubscribe@googlegroups.com">osiitm_2016=
&#43;unsubscribe@googlegroups.com</a>.<br>
To post to this group, send email to <a href=3D"mailto:osiitm_2016@googlegr=
oups.com">
osiitm_2016@googlegroups.com</a>.<br>
To view this discussion on the web visit <a href=3D"https://groups.google.c=
om/d/msgid/osiitm_2016/CAJsbzJVSjgXcjzPumNgqCF0CRAF6EJOar6xY8cUzUkwCCWKHZA%=
40mail.gmail.com?utm_medium=3Demail&amp;utm_source=3Dfooter">
https://groups.google.com/d/msgid/osiitm_2016/CAJsbzJVSjgXcjzPumNgqCF0CRAF6=
EJOar6xY8cUzUkwCCWKHZA%40mail.gmail.com</a>.<br>
For more options, visit <a href=3D"https://groups.google.com/d/optout">http=
s://groups.google.com/d/optout</a>.<br>
</div>
</body>
</html>

<p></p>

-- <br />
You received this message because you are subscribed to the Google Groups &=
quot;osiitm_2016&quot; group.<br />
To unsubscribe from this group and stop receiving emails from it, send an e=
mail to <a href=3D"mailto:osiitm_2016+unsubscribe@googlegroups.com">osiitm_=
2016+unsubscribe@googlegroups.com</a>.<br />
To post to this group, send email to <a href=3D"mailto:osiitm_2016@googlegr=
oups.com">osiitm_2016@googlegroups.com</a>.<br />
To view this discussion on the web visit <a href=3D"https://groups.google.c=
om/d/msgid/osiitm_2016/4rt55flphfw5irdo5hn1nqh8.1473041028409%40email.andro=
id.com?utm_medium=3Demail&utm_source=3Dfooter">https://groups.google.com/d/=
msgid/osiitm_2016/4rt55flphfw5irdo5hn1nqh8.1473041028409%40email.android.co=
m</a>.<br />
For more options, visit <a href=3D"https://groups.google.com/d/optout">http=
s://groups.google.com/d/optout</a>.<br />


